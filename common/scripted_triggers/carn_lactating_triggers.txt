# Used to check if character should still be lactating
carn_should_still_be_lactating_trigger = {
	OR = {
		carn_is_lactating_indefinitely_trigger = yes
		# Check if character has any children that would still be breastfed
		any_child = {
			age <= 1
			count >= 1
		}
	}
}

carn_is_lactating_trigger = {
	trigger_if = {
		limit = {
			carn_can_lactate_trigger = yes
		}
		has_trait_with_flag = carn_is_lactating
	}
	trigger_else = {
		always = no
	}
}

carn_is_lactating_indefinitely_trigger = {
	AND = {
		carn_is_lactating_trigger = yes
		has_character_flag = carn_indefinitely_lactating
	}
}

carn_can_lactate_trigger = {
	NOT = { has_game_rule = carn_lactation_disabled }
	is_alive = yes
	is_adult = yes
	OR = {
		AND = {
			is_female = yes
			NOT = { has_game_rule = carn_lactation_male_only }
		}
		AND = {
			is_male = yes
			NOT = { has_game_rule = carn_lactation_female_only }
		}
	}
}
